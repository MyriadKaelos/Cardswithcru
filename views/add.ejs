<html>
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>
  $(function(){
    setInterval(function(){
      var inTable = "";
      $.get("/getQuestions", function(questions1, status){
        $.get("/getAnswers", function(answers1, status){
          if(questions1.length>answers1.length) {
            for(var i = 0; i < questions1.length; i++) {
              inTable += "<tr><td>" + questions1[i].question + "</td><td>";
              if(i < answers1.length) {
                inTable += answers1[i].length + "</td></tr>";
              } else { inTable += "</td></tr>"}
            }
          } else {
            for(var i = 0; i < answers1.length; i++) {
              if(i < questions1.length) {
                inTable += "<tr><td>" + questions1[i].length + "</td><td>";
              } else { inTable += "<tr><td></td><td>"}
              inTable += answers1[i].answer + "</td></tr>";
            }
            $('table').html("<tr><td><strong>Questions</strong></td><td><strong>Answers</strong></td></tr>" + inTable);
          }
        });
      });
    }, 1000);
  });

  </script>
  <style>
  #main {
    text-align:center;
  }
  .add {
    width:200px;
    height:50px;
    background-color:black;
    color:white;
    outline: none;
  }
  table, tr, td {
    border: 1px solid black;
  }
  </style>
</head>
<body>
<div id="main">
<p>Add some Cards!</p>
<p>We bouta get this _____</p>

<form action='/newQuestion' method="POST">
  <input class='add' type="textarea" name="question" placeholder="Add a question"/>
  <input type="submit" name="submit"/>
</form>

<form action='/newAnswer' method="POST">
  <input class='add' type="textarea" name="answer" placeholder="Add an Answer"/>
  <input type="submit" name="submit"/>
</form>

<table align='center'>
  <tr>
    <td><strong>Questions</strong></td>
    <td><strong>Answers</strong></td>
  </tr>
  <% if(questions.length>answers.length) { %>
    <% for(var i = 0;i<questions.length;i++) { %>
      <tr>
        <td><%= questions[i].question %></td>
        <% if(i<answers.length) { %>
          <td><%= answers[i].answer %></td>
        <% } else { %>
          <td></td>
        <% } %>
      </tr>
    <% } %>
  <% } else { %>
    <% for(var i = 0;i<answers.length;i++) { %>
      <tr>
        <% if(i<questions.length) { %>
          <td><%= questions[i].question %></td>
        <% } else { %>
          <td></td>
        <% } %>
        <td><%= answers[i].answer %></td>
      </tr>
    <% } %>
  <% } %>
</table>

</div>
</body>
</html>
